name = "danmu-api"
main = "cf_worker.js"
compatibility_date = "2024-09-21"


# 基础环境变量（公开配置）
[vars]
ENABLE_ASYMMETRIC_AUTH_ENV = "{{ENABLE_ASYMMETRIC_AUTH_ENV}}"
ENABLE_DETAILED_LOGGING = "{{ENABLE_DETAILED_LOGGING}}"
USER_AGENT_LIMITS_CONFIG = '''{{USER_AGENT_LIMITS_CONFIG}}'''
IP_BLACKLIST_CONFIG = '''{{IP_BLACKLIST_CONFIG}}'''
DATA_CENTER_URL = '''{{DATA_CENTER_URL}}'''
DATA_CENTER_API_KEY = '''{{DATA_CENTER_API_KEY}}'''
WORKER_ID = "{{WORKER_ID}}"
PRIVATE_KEY_HEX = "{{PRIVATE_KEY_HEX}}"

#密钥配置 （一般有两个，两个都填会轮换使用，配置成密钥的类型）
# APP_ID
# APP_SECRET
# APP_SECRET_2


# wrangler.toml (wrangler v3.88.0^)
[observability.logs]
enabled = true

# 迁移：删除Durable Objects类
[[migrations]]
tag = "v7"
delete_classes = ["RateLimiter", "AppState"]


